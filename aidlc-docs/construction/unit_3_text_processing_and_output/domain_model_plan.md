# Unit 3: テキスト処理・出力 — ドメインモデル計画

## 対象ユーザーストーリー

- US-006: Gemini Flash によるテキストリライト
- US-007: テキストのクリップボードコピー
- US-010: アクティブなテキストフィールドへの直接入力

---

## ドメインモデリングステップ

- [x] **ステップ 1**: ユーザーストーリー（US-006, US-007, US-010）の分析と、ドメインコンポーネント候補の洗い出し
  - 各ユーザーストーリーの受け入れ基準から、必要なエンティティ、値オブジェクト、ドメインイベント、ドメインサービスを特定する

- [x] **ステップ 2**: テキストリライト（TextRewrite）のドメインモデル定義
  - US-006 に対応する、Gemini Flash によるリライト処理に関するコンポーネントの属性と振る舞いを定義する
  - リライト前テキスト、リライト後テキスト、フィラーワード除去、文法修正などの変換ルールを含む
  - 出力ファイル: `aidlc-docs/construction/unit_3_text_processing_and_output/docs/text_rewrite.md`

[Question] US-006 のリライト処理について、以下の点を確認させてください。
  - (a) リライトは常に自動で実行されますか？それとも、ユーザーがリライトの有効/無効を切り替えられるようにしますか？
  - (b) リライト前のテキスト（raw テキスト）を保持する必要はありますか？（リライト結果が気に入らない場合に元のテキストに戻せるようにするか）
[Answer]
a - リライトは常に自動で実行されます
b - リライト前のテキスト（raw テキスト）を保持する必要はあります


- [x] **ステップ 3**: テキスト出力（TextOutput）のドメインモデル定義
  - US-007, US-010 に対応する、テキストの出力先（クリップボード、アクティブフィールド）に関するコンポーネントの属性と振る舞いを定義する
  - 出力方法の選択（クリップボードコピー vs アクティブフィールド入力）、出力結果の管理を含む
  - 出力ファイル: `aidlc-docs/construction/unit_3_text_processing_and_output/docs/text_output.md`

[Question] US-007（クリップボードコピー）と US-010（アクティブフィールドへの直接入力）の関係について確認させてください。
  - (a) テキスト出力のデフォルト動作は「アクティブフィールドへの直接入力」（US-010）で、「クリップボードコピー」（US-007）は追加のアクション（ボタンやショートカット）として独立して存在する
  - (b) テキスト出力の方法をユーザーが設定で切り替えられる（「クリップボードのみ」「アクティブフィールドのみ」「両方」など）
[Answer]
a - 合っています。 
b - 合っています。 

- [x] **ステップ 4**: Unit 3 コンポーネント間の相互作用と境界インターフェースの定義
  - Unit 2（上流）から受け取る認識テキストのインターフェースを定義する
  - Unit 1 から受け取るアクティブウィンドウ情報のインターフェースを定義する
  - 出力ファイル: `aidlc-docs/construction/unit_3_text_processing_and_output/docs/component_interactions.md`

- [x] **ステップ 5**: Unit 3 ドメインモデル全体のレビューと最終確認
  - 全ドキュメントの一貫性を確認し、ユーザーストーリーの受け入れ基準がすべてカバーされていることを検証する
